---
- name: Fetch and parse server list from XML API
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Fetch XML data from API
      uri:
        url: "{{ device_url }}"
        method: GET
        return_content: yes
        status_code: 200
        headers:
          Content-Type: "application/xml"
      register: api_response
   
    - name: Debug the details
      debug:
        var: api_response
